/*! For license information please see index.js.LICENSE.txt */
!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("react"),require("@ellucian/react-design-system/core"),require("@ellucian/react-design-system/core/styles/tokens"),require("@ellucian/experience-extension-utils")):"function"==typeof define&&define.amd?define(["react","@ellucian/react-design-system/core","@ellucian/react-design-system/core/styles/tokens","@ellucian/experience-extension-utils"],r):"object"==typeof exports?exports.eouUtilities=r(require("react"),require("@ellucian/react-design-system/core"),require("@ellucian/react-design-system/core/styles/tokens"),require("@ellucian/experience-extension-utils")):e.eouUtilities=r(e.react,e["@ellucian/react-design-system/core"],e["@ellucian/react-design-system/core/styles/tokens"],e["@ellucian/experience-extension-utils"])}(this,(e,r,t,n)=>(()=>{var o={703:(e,r,t)=>{"use strict";var n=t(414);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,r,t,o,a,s){if(s!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function r(){return e}e.isRequired=e;var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:a,resetWarningCache:o};return t.PropTypes=t,t}},697:(e,r,t)=>{e.exports=t(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},440:e=>{"use strict";e.exports=n},463:e=>{"use strict";e.exports=r},612:e=>{"use strict";e.exports=t},156:r=>{"use strict";r.exports=e}},a={};function s(e){var r=a[e];if(void 0!==r)return r.exports;var t=a[e]={exports:{}};return o[e](t,t.exports,s),t.exports}s.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return s.d(r,{a:r}),r},s.d=(e,r)=>{for(var t in r)s.o(r,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},s.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{"use strict";s.r(i);var e=s(156),r=s.n(e),t=s(697),n=s.n(t),o=s(463),a=s(612),u=s(440);function c(){var e,r,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,n,o,a){var u=n&&n.prototype instanceof i?n:i,c=Object.create(u.prototype);return l(c,"_invoke",function(t,n,o){var a,i,u,c=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:y,f:y.bind(e,4),d:function(r,t){return a=r,i=0,u=e,p.n=t,s}};function y(t,n){for(i=t,u=n,r=0;!f&&c&&!o&&r<l.length;r++){var o,a=l[r],y=p.p,d=a[2];t>3?(o=d===n)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=y&&((o=t<2&&y<a[1])?(i=0,p.v=n,p.n=a[1]):y<d&&(o=t<3||a[0]>n||n>d)&&(a[4]=t,a[5]=n,p.n=d,i=0))}if(o||t>1)return s;throw f=!0,n}return function(o,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&y(l,d),i=l,u=d;(r=i<2?e:u)||!f;){a||(i?i<3?(i>1&&(p.n=-1),y(i,u)):p.n=u:p.v=u);try{if(c=2,a){if(i||(o="next"),r=a[o]){if(!(r=r.call(a,u)))throw TypeError("iterator result is not an object");if(!r.done)return r;u=r.value,i<2&&(i=0)}else 1===i&&(r=a.return)&&r.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((r=(f=p.n<0)?u:t.call(n,p))!==s)break}catch(r){a=e,i=1,u=r}finally{c=1}}return{value:r,done:f}}}(t,o,a),!0),c}var s={};function i(){}function u(){}function f(){}r=Object.getPrototypeOf;var p=[][n]?r(r([][n]())):(l(r={},n,function(){return this}),r),y=f.prototype=i.prototype=Object.create(p);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e}return u.prototype=f,l(y,"constructor",f),l(f,"constructor",u),u.displayName="GeneratorFunction",l(f,o,"GeneratorFunction"),l(y),l(y,o,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),(c=function(){return{w:a,m:d}})()}function l(e,r,t,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}l=function(e,r,t,n){function a(r,t){l(e,r,function(e){return this._invoke(r,t,e)})}r?o?o(e,r,{value:t,enumerable:!n,configurable:!n,writable:!n}):e[r]=t:(a("next",0),a("throw",1),a("return",2))},l(e,r,t,n)}function f(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,s,i=[],u=!0,c=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=a.call(t)).done)&&(i.push(n.value),i.length!==r);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(c)throw o}}return i}}(e,r)||function(e,r){if(e){if("string"==typeof e)return p(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?p(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function y(e,r,t,n,o,a,s){try{var i=e[a](s),u=i.value}catch(e){return void t(e)}i.done?r(u):Promise.resolve(u).then(n,o)}function d(e){return function(){var r=this,t=arguments;return new Promise(function(n,o){var a=e.apply(r,t);function s(e){y(a,n,o,s,i,"next",e)}function i(e){y(a,n,o,s,i,"throw",e)}s(void 0)})}}var m=(0,o.makeStyles)(function(){return{userLookupSearch:{margin:a.spacing20},userLookupText:{margin:a.spacing20,minHeight:"1.5rem",minWidth:"50rem"},flexRow:{display:"flex",alignItems:"center",gap:"16px"},userLookupCircularProgress:{size:"2rem"}}},{index:2});function h(e){return v.apply(this,arguments)}function v(){return(v=d(c().m(function e(r){var t,n,o,a,s,i,u,l,f,p,y;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=r.PIPELINE_GET_API,n=r.authenticatedEthosFetch,o=r.cardId,a=r.cardPrefix,s=r.userSearchKey,i=r.signal,u=t,l=new URLSearchParams({cardId:o,cardPrefix:a,userSearchKey:s}).toString(),f="".concat(u,"?").concat(l),e.p=1,e.n=2,n(f,{method:"GET",signal:i,headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:if(200!==(p=e.v).status){e.n=4;break}return e.n=3,p.json();case 3:return y=e.v,e.a(2,{data:y,status:"success"});case 4:return e.a(2,{error:{message:"server error",statusCode:p.status}});case 5:e.n=8;break;case 6:if(e.p=6,"AbortError"!==e.v.name){e.n=7;break}return e.a(2,{aborted:!0});case 7:return e.a(2,{error:{message:"fetch failed",statusCode:500}});case 8:return e.a(2)}},e,null,[[1,6]])}))).apply(this,arguments)}function g(e){var t=e.userArray,n=e.busy,a=e.userSearchKey,s=m();if(n)return r().createElement(o.CircularProgress,{className:s.userLookupCircularProgress});if(a<4)return r().createElement(o.Typography,{className:s.userLookupText});if(t&&Array.isArray(t)){if(1===t.length){var i=t[0];return r().createElement(o.Typography,{className:s.userLookupText},i.userfirstname," ",i.userlastname)}return r().createElement(o.Typography,{className:s.userLookupText})}return r().createElement(o.Typography,{className:s.userLookupText})}function b(t){var n=t.userGuid,a=t.setUserId,s=t.setUserFirstName,i=t.setUserLastName,l=m(),p=(0,u.useCardInfo)().cardConfiguration,y=(void 0===p?{}:p).PIPELINE_GET_USER_MAP,v=(0,u.useData)().authenticatedEthosFetch,b=(0,u.useCardInfo)(),x=b.serverConfigContext.cardPrefix,S=b.cardId,T=f((0,e.useState)(!1),2),E=T[0],P=T[1],O=f((0,e.useState)(!1),2),_=O[0],j=O[1];(0,e.useEffect)(function(){E&&!_&&P(!1)},[E,_]);var I=f((0,e.useState)(""),2),k=I[0],w=I[1],C=f((0,e.useState)([]),2),L=C[0],A=C[1],N=k.toLowerCase().trim().replace(/@eou\.edu/i,"");return(0,e.useEffect)(function(){if(!(N.length<4)){var e=new AbortController,r=function(){var r=d(c().m(function r(){var t;return c().w(function(r){for(;;)switch(r.n){case 0:return P(!0),r.n=1,h({PIPELINE_GET_API:y,authenticatedEthosFetch:v,cardId:S,cardPrefix:x,userSearchKey:N,signal:e.signal});case 1:(t=r.v).aborted||("success"===t.status?A(t.data):console.error("Fetch failed or server error"),P(!1));case 2:return r.a(2)}},r)}));return function(){return r.apply(this,arguments)}}();return r(),function(){e.abort()}}},[y,v,S,x,P,j,N]),(0,e.useEffect)(function(){if(n)if(1===L.length){var e=L[0];a(n,e.userid),s(n,e.userfirstname),i(n,e.userlastname)}else a(n,""),s(n,""),i(n,"");else if(1===L.length){var r=L[0];a(r.userid),s(r.userfirstname),i(r.userlastname)}else a(""),s(""),i("")},[L,n,a,s,i]),r().createElement("div",{className:l.flexRow},r().createElement(o.TextField,{inputProps:{"aria-label":"Search for a user"},id:"userSearch".concat(n),name:"userSearch".concat(n),onChange:function(e){return r=e.target.value,void w(r);var r},placeholder:"mmonty or 910000000",value:k,className:l.userLookupSearch}),r().createElement(g,{userArray:L,busy:E,userSearchKey:N}))}g.propTypes={userArray:n().array,busy:n().bool,userSearchKey:n().string},b.propTypes={userGuid:n().string,setUserId:n().func,setUserFirstName:n().func,setUserLastName:n().func},b.defaultProps={setUserId:function(){},setUserFirstName:function(){},setUserLastName:function(){}}})(),i})());